{"version":3,"sources":["webpack://wordpress_starter_kit/./assets/js/modules/formValidate.js"],"names":["FormValidate","form","onSend","fields","querySelectorAll","mandatory","getAttribute","validity","init","reset","field","removeAttribute","parentNode","querySelector","remove","validate","dataTypeMismatch","dataset","typemismatch","dataPatternMismatch","patternmismatch","typeMismatch","tooShort","tooLong","stepMismatch","patternMismatch","valueMissing","group","closest","customSelect","invalid_msg","document","createElement","className","id","split","insertAdjacentElement","checkValidity","setAttribute","msg","setCustomValidity","innerHTML","validationMessage","scrollTop","addEventListener","onsubmit","e","preventDefault","customSelectFields"],"mappings":"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","file":"./js/chunks/58086fcace63f0c1826e.js","sourcesContent":["/* eslint-disable */\n\n/**\n * formValidate\n */\n\nconst FormValidate = function (form, onSend) {\n    const fields = form.querySelectorAll(':required');\n    const mandatory = form.getAttribute('data-mandatory');\n    let validity = true;\n    let init = true;\n\n    this.reset = () => {\n        init = true;\n        for (let field of fields) {\n            field.removeAttribute('aria-invalid');\n            field.parentNode.querySelector('.invalid-msg').remove();\n        }\n    };\n\n    const validate = () => {\n        if (init) return;\n        validity = true;\n        for (let field of fields) {\n            const dataTypeMismatch = field.dataset.typemismatch;\n            const dataPatternMismatch = field.dataset.patternmismatch;\n            const typeMismatch = field.validity.typeMismatch;\n            const tooShort = field.validity.tooShort;\n            const tooLong = field.validity.tooLong;\n            const stepMismatch = field.validity.stepMismatch;\n            const patternMismatch = field.validity.patternMismatch;\n            const valueMissing = field.validity.valueMissing;\n            const group = field.closest('[role=\"group\"]');\n            const customSelect = field.closest('.custom-select');\n            let invalid_msg = group ? group.querySelector('.invalid-msg'): field.parentNode.querySelector('.invalid-msg');\n\n            if (!invalid_msg) {\n                invalid_msg = document.createElement('div');\n                invalid_msg.className = 'invalid-msg';\n                invalid_msg.id = field.getAttribute('aria-describedby').split(' ')[0];\n                if (group) {\n                    group.insertAdjacentElement('beforeend', invalid_msg);\n                } else if (customSelect) {\n                    customSelect.insertAdjacentElement('beforeend', invalid_msg);\n                } else {\n                    field.insertAdjacentElement('afterend', invalid_msg);\n                }\n            }\n\n            if (!field.checkValidity()) {\n                if (customSelect) {\n                    customSelect.setAttribute('aria-invalid', true);\n                } else {\n                    field.setAttribute('aria-invalid', true);\n                }\n                let msg = '';\n                if ((typeMismatch || stepMismatch || tooShort || tooLong) && dataTypeMismatch) {\n                    msg = dataTypeMismatch;\n                }\n                if (patternMismatch && dataPatternMismatch) {\n                    msg = dataPatternMismatch;\n                }\n                if (valueMissing && mandatory) {\n                    msg = mandatory;\n                }\n\n                if (msg !== '') {\n                    field.setCustomValidity(msg);\n                    invalid_msg.innerHTML = field.validationMessage;\n                    validity = false;\n                } else {\n                    if (customSelect) {\n                        customSelect.removeAttribute('aria-invalid');\n                    } else {\n                        field.removeAttribute('aria-invalid');\n                    }\n                    invalid_msg.innerHTML = '';\n                }\n            } else {\n                if (customSelect) {\n                    customSelect.removeAttribute('aria-invalid');\n                } else {\n                    field.removeAttribute('aria-invalid');\n                }\n                invalid_msg.innerHTML = '';\n            }\n        }\n\n        if (validity == false) {\n            document.querySelector('container').scrollTop = 20;\n        }\n\n        return validity;\n    };\n\n    for (let field of fields) {\n        field.addEventListener('input', () => validate());\n        field.addEventListener('change', () => validate());\n    }\n\n\n    form.onsubmit = (e) => {\n        e.preventDefault();\n\n        const customSelectFields = form.querySelectorAll('.select-items > div');\n        for (let field of customSelectFields) {\n            field.addEventListener('click', () => validate());\n        }\n\n        init = false;\n        validate() && onSend(this);\n    };\n};\n\nexport default FormValidate;"],"sourceRoot":""}