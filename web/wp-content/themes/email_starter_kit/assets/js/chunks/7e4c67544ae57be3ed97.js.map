{"version":3,"sources":["webpack://wordpress_starter_kit/./assets/js/modules/formValidate.js"],"names":["FormValidate","form","onSend","fields","querySelectorAll","mandatory","getAttribute","validity","init","reset","field","removeAttribute","parentNode","querySelector","remove","validate","dataTypeMismatch","dataset","typemismatch","dataPatternMismatch","patternmismatch","dataMandatory","typeMismatch","tooShort","tooLong","stepMismatch","patternMismatch","valueMissing","group","closest","customSelect","invalid_msg","document","createElement","className","id","split","insertAdjacentElement","checkValidity","setAttribute","msg","setCustomValidity","innerHTML","validationMessage","addEventListener","onsubmit","e","preventDefault","customSelectFields","errorsFields","length","window","scrollTo","offsetTop"],"mappings":"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","file":"./js/chunks/7e4c67544ae57be3ed97.js","sourcesContent":["/* eslint-disable */\n\n/**\n * formValidate\n */\n\nconst FormValidate = function (form, onSend) {\n    const fields = form.querySelectorAll(':required');\n    const mandatory = form.getAttribute('data-mandatory');\n    let validity = true;\n    let init = true;\n\n    this.reset = () => {\n        init = true;\n        for (let field of fields) {\n            field.removeAttribute('aria-invalid');\n            field.parentNode.querySelector('.invalid-msg').remove();\n        }\n    };\n\n    const validate = () => {\n        if (init) return;\n        validity = true;\n        for (let field of fields) {\n            const dataTypeMismatch = field.dataset.typemismatch;\n            const dataPatternMismatch = field.dataset.patternmismatch;\n            const dataMandatory = field.dataset.mandatory;\n            const typeMismatch = field.validity.typeMismatch;\n            const tooShort = field.validity.tooShort;\n            const tooLong = field.validity.tooLong;\n            const stepMismatch = field.validity.stepMismatch;\n            const patternMismatch = field.validity.patternMismatch;\n            const valueMissing = field.validity.valueMissing;\n            const group = field.closest('[role=\"group\"]');\n            const customSelect = field.closest('.custom-select');\n            let invalid_msg = group ? group.querySelector('.invalid-msg'): field.parentNode.querySelector('.invalid-msg');\n\n            if (!invalid_msg) {\n                invalid_msg = document.createElement('div');\n                invalid_msg.className = 'invalid-msg';\n                invalid_msg.id = field.getAttribute('aria-describedby').split(' ')[0];\n                if (group) {\n                    group.insertAdjacentElement('beforeend', invalid_msg);\n                } else if (customSelect) {\n                    customSelect.insertAdjacentElement('beforeend', invalid_msg);\n                } else {\n                    field.insertAdjacentElement('afterend', invalid_msg);\n                }\n            }\n\n            if (!field.checkValidity()) {\n                if (customSelect) {\n                    customSelect.setAttribute('aria-invalid', true);\n                } else {\n                    field.setAttribute('aria-invalid', true);\n                }\n                let msg = '';\n                if ((typeMismatch || stepMismatch || tooShort || tooLong) && dataTypeMismatch) {\n                    msg = dataTypeMismatch;\n                }\n                if (patternMismatch && dataPatternMismatch) {\n                    msg = dataPatternMismatch;\n                }\n                if (valueMissing && mandatory) {\n                    msg = dataMandatory ? dataMandatory : mandatory;\n                }\n\n                if (msg !== '') {\n                    field.setCustomValidity(msg);\n                    invalid_msg.innerHTML = field.validationMessage;\n                    validity = false;\n                } else {\n                    if (customSelect) {\n                        customSelect.removeAttribute('aria-invalid');\n                    } else {\n                        field.removeAttribute('aria-invalid');\n                    }\n                    invalid_msg.innerHTML = '';\n                }\n            } else {\n                if (customSelect) {\n                    customSelect.removeAttribute('aria-invalid');\n                } else {\n                    field.removeAttribute('aria-invalid');\n                }\n                invalid_msg.innerHTML = '';\n            }\n        }\n\n        return validity;\n    };\n\n    for (let field of fields) {\n        field.addEventListener('input', () => validate());\n        field.addEventListener('change', () => validate());\n    }\n\n\n    form.onsubmit = (e) => {\n        e.preventDefault();\n\n        const customSelectFields = form.querySelectorAll('.select-items > div');\n        for (let field of customSelectFields) {\n            field.addEventListener('click', () => validate());\n        }\n\n        init = false;\n        validate() && onSend(this);\n\n        const errorsFields = form.querySelectorAll('*[aria-invalid=true]');\n        if (errorsFields.length > 0) {\n            window.scrollTo(0, errorsFields[0].offsetTop);\n        }\n    };\n};\n\nexport default FormValidate;"],"sourceRoot":""}